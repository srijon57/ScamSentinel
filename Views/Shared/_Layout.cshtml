<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - ScamSentinel</title>

    <!-- Prevent flash of wrong theme -->
    <script>
        (function () {
            try {
                var t = localStorage.getItem('theme');
                if (t === 'dark') document.documentElement.classList.add('dark');
            } catch (e) { }
        })();
    </script>

    <link rel="stylesheet" href="~/ScamSentinel.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/output.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
</head>

<body class="bg-app text-app">
    <partial name="../Components/_Header" />

    <main class="pt-20">
        @RenderBody()
    </main>

    <partial name="../Components/_Footer" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)

    <script>
        toastr.options = {
            closeButton: true,
            progressBar: true,
            positionClass: "toast-bottom-right",
            timeOut: "2000"
        };
        @if (TempData["SuccessMessage"] != null)
        { <text>toastr.success("@TempData["SuccessMessage"]");</text> }
        @if (TempData["ErrorMessage"] != null)
        { <text>toastr.error("@TempData["ErrorMessage"]");</text> }
    </script>
</body>
</html>
